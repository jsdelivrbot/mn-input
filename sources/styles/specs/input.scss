@mixin placeholder {
  &::-webkit-input-placeholder {@content}
  &:-moz-placeholder {@content}
  &::-moz-placeholder {@content}
  &:-ms-input-placeholder {@content}
}

mn-input {
  position: relative;
  display: inline-block;
  margin: 2.5em .1em 0;

  &::shadow {
    input {
      width: 100%;
      border: 0;
      outline: 0;
      line-height: 2em;
      font-size: 1em;
      box-sizing: border-box;
      padding: 0 .1em;
      margin-bottom: .5em;
      box-shadow: 0 1px 0 map-get($grey, 200);
      transition: box-shadow .2s ease;
      text-overflow: ellipsis;
      user-select: none;


      @include placeholder {
        color: transparent;
        pointer-events: none;
      }

      &:focus:not([readonly]) {
        box-shadow: 0 2px 0 map-get($grey, 900);
      }

      &:disabled {
        box-shadow: 0 1px 0 map-get($grey, 50);
        color: map-get($grey, 200);

        & + label {
          color: map-get($grey, 200);
        }
      }
    }

    label {
      position: absolute;
      top: 5px;
      left: .1em;
      user-select: none;

      font-size: 1em;

      color: map-get($grey, 400);
      transition: transform .2s ease, color .2s ease;
      transform-origin: left center;
      transform: translateZ(0);
      pointer-events: none;
    }

    input:focus:not([readonly]) + label {
      color: map-get($grey, 900);
    }

    input:focus:not([readonly]) + label,
    input:not(:placeholder-shown) + label {
      transform: translate(0, -1.3em) scale(.8) translateZ(0);
    }
  }
}
